<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vite + React + TS</title>
  <style>
    #global-error {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #000;
      color: #ff3333;
      z-index: 9999;
      padding: 20px;
      font-family: monospace;
      white-space: pre-wrap;
      overflow: auto;
    }
  </style>
</head>

<body>
  <div id="global-error"></div>
  <div id="root">Loading...</div>
  <script>
    // Capture detailed errors including Resource Loading Failures (404s)
    window.addEventListener('error', function (event) {
      var container = document.getElementById('global-error');
      container.style.display = 'block';

      var msg = '';
      if (event.target && (event.target instanceof HTMLScriptElement || event.target instanceof HTMLLinkElement || event.target instanceof HTMLImageElement)) {
        msg = 'Resource Loading Failure: ' + (event.target.src || event.target.href);
      } else {
        msg = 'Error: ' + event.message + '\nLocation: ' + event.filename + ':' + event.lineno + ':' + event.colno;
      }

      container.innerHTML += '<div style="margin-bottom: 1em; border-bottom: 1px solid #333; padding-bottom: 0.5em;">' + msg + '</div>';
    }, true); // Capture phase is essential for resource errors

    window.addEventListener('unhandledrejection', function (event) {
      var container = document.getElementById('global-error');
      container.style.display = 'block';
      container.innerHTML += '<div style="margin-bottom: 1em; border-bottom: 1px solid #333; padding-bottom: 0.5em;">Unhandled Promise Rejection: ' + event.reason + '</div>';
    });
  </script>
  <script type="module" src="/src/main.tsx"></script>
</body>

</html>